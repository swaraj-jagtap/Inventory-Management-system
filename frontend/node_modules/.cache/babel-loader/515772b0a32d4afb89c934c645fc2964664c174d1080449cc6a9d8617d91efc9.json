{"ast":null,"code":"import React from'react';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import{Package,ShoppingCart,Bell,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{products,stats}=_ref;// These are now calculated on the frontend from the full products list\nconst lowStockItems=products.filter(p=>p.quantity<=10);const expiringSoonItems=products.filter(p=>p.expiryDate&&new Date(p.expiryDate)<new Date(new Date().setDate(new Date().getDate()+30)));// Helper to format large numbers into \"k\" format (e.g., 12500 -> 12.5k)\nconst formatCurrency=value=>{if(value>=1000){return`₹${(value/1000).toFixed(1)}k`;}return`₹${value}`;};const StatCard=_ref2=>{let{title,value,icon,color}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:`bg-gray-800 p-6 rounded-2xl border border-gray-700 flex items-center justify-between`,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 font-medium\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-white\",children:value})]}),/*#__PURE__*/_jsx(\"div\",{className:`p-3 rounded-full ${color}`,children:icon})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(StatCard,{title:\"Total Inventory Value\",value:formatCurrency((stats===null||stats===void 0?void 0:stats.totalInventoryValue)||0),icon:/*#__PURE__*/_jsx(Package,{size:24}),color:\"bg-blue-500 bg-opacity-30 text-blue-300\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Daily Sales\",value:formatCurrency((stats===null||stats===void 0?void 0:stats.dailySales)||0),icon:/*#__PURE__*/_jsx(ShoppingCart,{size:24}),color:\"bg-green-500 bg-opacity-30 text-green-300\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Low Stock Items\",value:lowStockItems.length,icon:/*#__PURE__*/_jsx(Bell,{size:24}),color:\"bg-yellow-500 bg-opacity-30 text-yellow-300\"}),/*#__PURE__*/_jsx(StatCard,{title:\"Expiring Soon\",value:expiringSoonItems.length,icon:/*#__PURE__*/_jsx(Trash2,{size:24}),color:\"bg-red-500 bg-opacity-30 text-red-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 bg-gray-800 p-6 rounded-2xl border border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-4\",children:\"Sales (Last 30 Days)\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:300},children:/*#__PURE__*/_jsx(ResponsiveContainer,{children:/*#__PURE__*/_jsxs(BarChart,{data:(stats===null||stats===void 0?void 0:stats.monthlySales)||[],margin:{top:5,right:20,left:-10,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#4a5568\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",tick:{fill:'#a0aec0'}}),/*#__PURE__*/_jsx(YAxis,{tick:{fill:'#a0aec0'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'#2d3748',border:'1px solid #4a5568'}}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{color:'#a0aec0'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"sales\",fill:\"#48bb78\",name:\"Sales (\\u20B9)\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-2xl border border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-4\",children:\"Low Stock Alerts\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:lowStockItems.length>0?lowStockItems.slice(0,5).map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:item.category})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-yellow-500 bg-opacity-20 text-yellow-300 text-sm font-bold py-1 px-3 rounded-full\",children:[item.quantity,\" left\"]})]},item._id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No items with low stock.\"})})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Package","ShoppingCart","Bell","Trash2","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","products","stats","lowStockItems","filter","p","quantity","expiringSoonItems","expiryDate","Date","setDate","getDate","formatCurrency","value","toFixed","StatCard","_ref2","title","icon","color","className","children","totalInventoryValue","size","dailySales","length","style","width","height","data","monthlySales","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","tick","fill","contentStyle","backgroundColor","border","wrapperStyle","name","slice","map","item","category","_id"],"sources":["C:/Users/santo/OneDrive/Desktop/inventory-app/vrindavan-desktop-app/Frontend/src/pages/Dashboard.js"],"sourcesContent":["import React from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { Package, ShoppingCart, Bell, Trash2 } from 'lucide-react';\r\n\r\nconst Dashboard = ({ products, stats }) => {\r\n    // These are now calculated on the frontend from the full products list\r\n    const lowStockItems = products.filter(p => p.quantity <= 10);\r\n    const expiringSoonItems = products.filter(p => p.expiryDate && new Date(p.expiryDate) < new Date(new Date().setDate(new Date().getDate() + 30)));\r\n\r\n    // Helper to format large numbers into \"k\" format (e.g., 12500 -> 12.5k)\r\n    const formatCurrency = (value) => {\r\n        if (value >= 1000) {\r\n            return `₹${(value / 1000).toFixed(1)}k`;\r\n        }\r\n        return `₹${value}`;\r\n    };\r\n\r\n    const StatCard = ({ title, value, icon, color }) => (\r\n        <div className={`bg-gray-800 p-6 rounded-2xl border border-gray-700 flex items-center justify-between`}>\r\n            <div>\r\n                <p className=\"text-sm text-gray-400 font-medium\">{title}</p>\r\n                <p className=\"text-3xl font-bold text-white\">{value}</p>\r\n            </div>\r\n            <div className={`p-3 rounded-full ${color}`}>\r\n                {icon}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"p-8 space-y-8\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                <StatCard title=\"Total Inventory Value\" value={formatCurrency(stats?.totalInventoryValue || 0)} icon={<Package size={24} />} color=\"bg-blue-500 bg-opacity-30 text-blue-300\" />\r\n                <StatCard title=\"Daily Sales\" value={formatCurrency(stats?.dailySales || 0)} icon={<ShoppingCart size={24} />} color=\"bg-green-500 bg-opacity-30 text-green-300\" />\r\n                <StatCard title=\"Low Stock Items\" value={lowStockItems.length} icon={<Bell size={24} />} color=\"bg-yellow-500 bg-opacity-30 text-yellow-300\" />\r\n                <StatCard title=\"Expiring Soon\" value={expiringSoonItems.length} icon={<Trash2 size={24} />} color=\"bg-red-500 bg-opacity-30 text-red-300\" />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                <div className=\"lg:col-span-2 bg-gray-800 p-6 rounded-2xl border border-gray-700\">\r\n                    <h3 className=\"text-xl font-semibold text-white mb-4\">Sales (Last 30 Days)</h3>\r\n                    <div style={{ width: '100%', height: 300 }}>\r\n                        <ResponsiveContainer>\r\n                            <BarChart data={stats?.monthlySales || []} margin={{ top: 5, right: 20, left: -10, bottom: 5 }}>\r\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#4a5568\" />\r\n                                <XAxis dataKey=\"date\" tick={{ fill: '#a0aec0' }} />\r\n                                <YAxis tick={{ fill: '#a0aec0' }} />\r\n                                <Tooltip contentStyle={{ backgroundColor: '#2d3748', border: '1px solid #4a5568' }} />\r\n                                <Legend wrapperStyle={{ color: '#a0aec0' }} />\r\n                                <Bar dataKey=\"sales\" fill=\"#48bb78\" name=\"Sales (₹)\" />\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-gray-800 p-6 rounded-2xl border border-gray-700\">\r\n                    <h3 className=\"text-xl font-semibold text-white mb-4\">Low Stock Alerts</h3>\r\n                    <ul className=\"space-y-4\">\r\n                        {lowStockItems.length > 0 ? lowStockItems.slice(0, 5).map(item => (\r\n                            <li key={item._id} className=\"flex justify-between items-center\">\r\n                                <div>\r\n                                    <p className=\"text-white font-medium\">{item.name}</p>\r\n                                    <p className=\"text-xs text-gray-400\">{item.category}</p>\r\n                                </div>\r\n                                <span className=\"bg-yellow-500 bg-opacity-20 text-yellow-300 text-sm font-bold py-1 px-3 rounded-full\">{item.quantity} left</span>\r\n                            </li>\r\n                        )) : <p className=\"text-gray-500\">No items with low stock.</p>}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}