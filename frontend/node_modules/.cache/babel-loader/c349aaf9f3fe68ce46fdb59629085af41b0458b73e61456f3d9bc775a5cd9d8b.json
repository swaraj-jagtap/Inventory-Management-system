{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santo\\\\OneDrive\\\\Desktop\\\\inventory-app\\\\vrindavan-desktop-app\\\\Frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Sidebar from './components/Sidebar';\nimport Header from './components/Header';\nimport Notification from './components/Notification';\nimport Dashboard from './pages/Dashboard';\nimport Inventory from './pages/Inventory';\nimport Billing from './pages/Billing';\nimport GenericEntityPage from './pages/GenericEntityPage';\nimport LoginPage from './pages/LoginPage';\n\n// --- THIS IS THE KEY CHANGE ---\n// The API URL is now a relative path, as the backend serves the frontend.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = '/api';\n// -----------------------------\n\nexport default function App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [page, setPage] = useState('dashboard');\n  const [products, setProducts] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [dashboardStats, setDashboardStats] = useState(null);\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const showNotification = useCallback((message, type = 'info') => {\n    setNotification({\n      message,\n      type\n    });\n  }, []);\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [productsRes, customersRes, statsRes] = await Promise.all([fetch(`${API_URL}/products`), fetch(`${API_URL}/customers`), fetch(`${API_URL}/dashboard/stats`)]);\n      const productsData = await productsRes.json();\n      const customersData = await customersRes.json();\n      const statsData = await statsRes.json();\n      setProducts(productsData);\n      setCustomers(customersData);\n      setDashboardStats(statsData);\n    } catch (error) {\n      console.error(\"Failed to fetch data:\", error);\n      showNotification(\"Could not connect to the server.\", \"error\");\n    } finally {\n      setLoading(false);\n    }\n  }, [showNotification]);\n  useEffect(() => {\n    if (user) {\n      fetchData();\n    }\n  }, [user, fetchData]);\n  const handleLogin = userData => {\n    setUser(userData);\n  };\n  const handleLogout = () => {\n    setUser(null);\n    setPage('dashboard');\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(LoginPage, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 16\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen bg-gray-900 text-white items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading Data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n  const renderPage = () => {\n    switch (page) {\n      case 'dashboard':\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          products: products,\n          stats: dashboardStats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 24\n        }, this);\n      case 'inventory':\n        return /*#__PURE__*/_jsxDEV(Inventory, {\n          products: products,\n          API_URL: API_URL,\n          showNotification: showNotification,\n          refreshData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 24\n        }, this);\n      case 'billing':\n        return /*#__PURE__*/_jsxDEV(Billing, {\n          products: products,\n          customers: customers,\n          API_URL: API_URL,\n          showNotification: showNotification,\n          refreshData: fetchData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 24\n        }, this);\n      case 'customers':\n        return /*#__PURE__*/_jsxDEV(GenericEntityPage, {\n          title: \"Customers\",\n          items: customers,\n          API_URL: `${API_URL}/customers`,\n          refreshData: fetchData,\n          entityName: \"Customer\",\n          formFields: [{\n            name: 'name',\n            type: 'text',\n            placeholder: 'Customer Name'\n          }, {\n            name: 'email',\n            type: 'email',\n            placeholder: 'Email Address'\n          }, {\n            name: 'phone',\n            type: 'tel',\n            placeholder: 'Phone Number'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          products: products,\n          stats: dashboardStats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-900 text-white font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onClose: () => setNotification({\n        message: '',\n        type: ''\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      user: user,\n      onNavigate: setPage,\n      activePage: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        user: user,\n        onLogout: handleLogout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"flex-1 overflow-x-hidden overflow-y-auto bg-gray-900\",\n        children: renderPage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"b9xt6W5M6PpF8YeoqeQnfeyqoUQ=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Sidebar","Header","Notification","Dashboard","Inventory","Billing","GenericEntityPage","LoginPage","jsxDEV","_jsxDEV","API_URL","App","_s","user","setUser","page","setPage","products","setProducts","customers","setCustomers","dashboardStats","setDashboardStats","notification","setNotification","message","type","loading","setLoading","showNotification","fetchData","productsRes","customersRes","statsRes","Promise","all","fetch","productsData","json","customersData","statsData","error","console","handleLogin","userData","handleLogout","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","className","children","renderPage","stats","refreshData","title","items","entityName","formFields","name","placeholder","onClose","onNavigate","activePage","onLogout","_c","$RefreshReg$"],"sources":["C:/Users/santo/OneDrive/Desktop/inventory-app/vrindavan-desktop-app/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport Header from './components/Header';\r\nimport Notification from './components/Notification';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Inventory from './pages/Inventory';\r\nimport Billing from './pages/Billing';\r\nimport GenericEntityPage from './pages/GenericEntityPage';\r\nimport LoginPage from './pages/LoginPage';\r\n\r\n// --- THIS IS THE KEY CHANGE ---\r\n// The API URL is now a relative path, as the backend serves the frontend.\r\nconst API_URL = '/api';\r\n// -----------------------------\r\n\r\nexport default function App() {\r\n    const [user, setUser] = useState(null);\r\n    const [page, setPage] = useState('dashboard');\r\n    const [products, setProducts] = useState([]);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [dashboardStats, setDashboardStats] = useState(null);\r\n    const [notification, setNotification] = useState({ message: '', type: '' });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const showNotification = useCallback((message, type = 'info') => {\r\n        setNotification({ message, type });\r\n    }, []);\r\n\r\n    const fetchData = useCallback(async () => {\r\n        try {\r\n            setLoading(true);\r\n            const [productsRes, customersRes, statsRes] = await Promise.all([\r\n                fetch(`${API_URL}/products`),\r\n                fetch(`${API_URL}/customers`),\r\n                fetch(`${API_URL}/dashboard/stats`),\r\n            ]);\r\n            const productsData = await productsRes.json();\r\n            const customersData = await customersRes.json();\r\n            const statsData = await statsRes.json();\r\n\r\n            setProducts(productsData);\r\n            setCustomers(customersData);\r\n            setDashboardStats(statsData);\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch data:\", error);\r\n            showNotification(\"Could not connect to the server.\", \"error\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [showNotification]);\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            fetchData();\r\n        }\r\n    }, [user, fetchData]);\r\n\r\n    const handleLogin = (userData) => {\r\n        setUser(userData);\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        setUser(null);\r\n        setPage('dashboard');\r\n    };\r\n\r\n    if (!user) {\r\n        return <LoginPage onLogin={handleLogin} />;\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex h-screen bg-gray-900 text-white items-center justify-center\">\r\n                <p>Loading Data...</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderPage = () => {\r\n        switch (page) {\r\n            case 'dashboard':\r\n                return <Dashboard products={products} stats={dashboardStats} />; \r\n            case 'inventory':\r\n                return <Inventory products={products} API_URL={API_URL} showNotification={showNotification} refreshData={fetchData} />;\r\n            case 'billing':\r\n                return <Billing products={products} customers={customers} API_URL={API_URL} showNotification={showNotification} refreshData={fetchData} />;\r\n            case 'customers':\r\n                return <GenericEntityPage \r\n                    title=\"Customers\"\r\n                    items={customers}\r\n                    API_URL={`${API_URL}/customers`}\r\n                    refreshData={fetchData}\r\n                    entityName=\"Customer\"\r\n                    formFields={[\r\n                        { name: 'name', type: 'text', placeholder: 'Customer Name' },\r\n                        { name: 'email', type: 'email', placeholder: 'Email Address' },\r\n                        { name: 'phone', type: 'tel', placeholder: 'Phone Number' },\r\n                    ]}\r\n                />;\r\n            default:\r\n                return <Dashboard products={products} stats={dashboardStats} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex h-screen bg-gray-900 text-white font-sans\">\r\n            <Notification message={notification.message} type={notification.type} onClose={() => setNotification({ message: '', type: '' })} />\r\n            <Sidebar user={user} onNavigate={setPage} activePage={page} />\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                <Header user={user} onLogout={handleLogout} />\r\n                <main className=\"flex-1 overflow-x-hidden overflow-y-auto bg-gray-900\">\r\n                    {renderPage()}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}